{"ast":null,"code":"import { setAppErrorAC, setAppStatusAC } from '../app/app-reducer';\nexport const handleServerAppError = (data, dispatch) => {\n  if (data.messages.length) {\n    dispatch(setAppErrorAC({\n      error: data.messages[0]\n    }));\n  } else {\n    dispatch(setAppErrorAC({\n      error: 'Some error occurred'\n    }));\n  }\n\n  dispatch(setAppStatusAC({\n    status: 'failed'\n  }));\n};\nexport const handleServerNetworkError = (error, dispatch) => {\n  dispatch(setAppErrorAC({\n    error: error.message ? error.message : 'Some error occurred'\n  }));\n  dispatch(setAppStatusAC({\n    status: 'failed'\n  }));\n};","map":{"version":3,"sources":["D:/programming/ToDoListDimych/todolist/src/utils/error-utils.ts"],"names":["setAppErrorAC","setAppStatusAC","handleServerAppError","data","dispatch","messages","length","error","status","handleServerNetworkError","message"],"mappings":"AAAA,SAAQA,aAAR,EAA8CC,cAA9C,QAA2F,oBAA3F;AAIA,OAAO,MAAMC,oBAAoB,GAAG,CAAIC,IAAJ,EAA2BC,QAA3B,KAAkG;AAClI,MAAID,IAAI,CAACE,QAAL,CAAcC,MAAlB,EAA0B;AACtBF,IAAAA,QAAQ,CAACJ,aAAa,CAAC;AAACO,MAAAA,KAAK,EAAEJ,IAAI,CAACE,QAAL,CAAc,CAAd;AAAR,KAAD,CAAd,CAAR;AACH,GAFD,MAEO;AACHD,IAAAA,QAAQ,CAACJ,aAAa,CAAC;AAACO,MAAAA,KAAK,EAAE;AAAR,KAAD,CAAd,CAAR;AACH;;AACDH,EAAAA,QAAQ,CAACH,cAAc,CAAC;AAACO,IAAAA,MAAM,EAAE;AAAT,GAAD,CAAf,CAAR;AACH,CAPM;AASP,OAAO,MAAMC,wBAAwB,GAAG,CAACF,KAAD,EAA6BH,QAA7B,KAAoG;AACxIA,EAAAA,QAAQ,CAACJ,aAAa,CAAC;AAACO,IAAAA,KAAK,EAAEA,KAAK,CAACG,OAAN,GAAgBH,KAAK,CAACG,OAAtB,GAAgC;AAAxC,GAAD,CAAd,CAAR;AACAN,EAAAA,QAAQ,CAACH,cAAc,CAAC;AAACO,IAAAA,MAAM,EAAE;AAAT,GAAD,CAAf,CAAR;AACH,CAHM","sourcesContent":["import {setAppErrorAC, SetAppErrorActionType, setAppStatusAC, SetAppStatusActionType} from '../app/app-reducer'\r\nimport {ResponseType} from '../api/todolists-api'\r\nimport {Dispatch} from 'redux'\r\n\r\nexport const handleServerAppError = <D>(data: ResponseType<D>, dispatch: Dispatch<SetAppErrorActionType | SetAppStatusActionType>) => {\r\n    if (data.messages.length) {\r\n        dispatch(setAppErrorAC({error: data.messages[0]}))\r\n    } else {\r\n        dispatch(setAppErrorAC({error: 'Some error occurred'}))\r\n    }\r\n    dispatch(setAppStatusAC({status: 'failed'}))\r\n}\r\n\r\nexport const handleServerNetworkError = (error: { message: string }, dispatch: Dispatch<SetAppErrorActionType | SetAppStatusActionType>) => {\r\n    dispatch(setAppErrorAC({error: error.message ? error.message : 'Some error occurred'}))\r\n    dispatch(setAppStatusAC({status: 'failed'}))\r\n}\r\n"]},"metadata":{},"sourceType":"module"}