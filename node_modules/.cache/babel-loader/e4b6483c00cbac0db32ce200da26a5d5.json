{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useCallback,useEffect}from'react';import'./App.css';import{AppBar,Button,Container,IconButton,LinearProgress,Toolbar,Typography}from'@material-ui/core';import{Menu}from'@material-ui/icons';import{TodolistsList}from'../features/TodolistsList/TodolistsList';import{ErrorSnackbar}from'../components/ErrorSnackbar/ErrorSnackbar';import{useDispatch,useSelector}from'react-redux';import{initializedAppTC}from'./app-reducer';import{HashRouter,Route,Routes}from\"react-router-dom\";import{Login}from\"../features/Login/Login\";import{CircularProgress}from\"@mui/material\";import{logoutTC}from\"../features/Login/auth-reducer\";function App(_ref){var _ref$demo=_ref.demo,demo=_ref$demo===void 0?false:_ref$demo;var status=useSelector(function(state){return state.app.status;});var isInitialized=useSelector(function(state){return state.app.isInitialized;});var isLoggedIn=useSelector(function(state){return state.auth.isLoggedIn;});var dispatch=useDispatch();useEffect(function(){dispatch(initializedAppTC());},[]);var logoutHandler=useCallback(function(){dispatch(logoutTC());},[]);if(!isInitialized){return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:'30%',textAlign:'center',width:'100%'},children:/*#__PURE__*/_jsx(CircularProgress,{})});}return/*#__PURE__*/_jsx(HashRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ErrorSnackbar,{}),/*#__PURE__*/_jsxs(AppBar,{position:\"static\",children:[/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"menu\",children:/*#__PURE__*/_jsx(Menu,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"News\"}),isLoggedIn&&/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:logoutHandler,children:\"Log out\"})]}),status==='loading'&&/*#__PURE__*/_jsx(LinearProgress,{})]}),/*#__PURE__*/_jsx(Container,{fixed:true,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:'/',element:/*#__PURE__*/_jsx(TodolistsList,{demo:demo})}),/*#__PURE__*/_jsx(Route,{path:'/Login',element:/*#__PURE__*/_jsx(Login,{})})]})})]})});}export default App;","map":{"version":3,"sources":["D:/programming/ToDoListDimych/todolist/src/app/App.tsx"],"names":["React","useCallback","useEffect","AppBar","Button","Container","IconButton","LinearProgress","Toolbar","Typography","Menu","TodolistsList","ErrorSnackbar","useDispatch","useSelector","initializedAppTC","HashRouter","Route","Routes","Login","CircularProgress","logoutTC","App","demo","status","state","app","isInitialized","isLoggedIn","auth","dispatch","logoutHandler","position","top","textAlign","width"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAeC,WAAf,CAA4BC,SAA5B,KAA4C,OAA5C,CACA,MAAO,WAAP,CACA,OAAQC,MAAR,CAAgBC,MAAhB,CAAwBC,SAAxB,CAAmCC,UAAnC,CAA+CC,cAA/C,CAA+DC,OAA/D,CAAwEC,UAAxE,KAAyF,mBAAzF,CACA,OAAQC,IAAR,KAAmB,oBAAnB,CACA,OAAQC,aAAR,KAA4B,yCAA5B,CACA,OAAQC,aAAR,KAA4B,2CAA5B,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CAEA,OAAQC,gBAAR,KAAkD,eAAlD,CACA,OAAuBC,UAAvB,CAAmCC,KAAnC,CAA0CC,MAA1C,KAAuD,kBAAvD,CACA,OAAQC,KAAR,KAAoB,yBAApB,CACA,OAAQC,gBAAR,KAA+B,eAA/B,CACA,OAAQC,QAAR,KAAuB,gCAAvB,CAMA,QAASC,CAAAA,GAAT,MAAwC,oBAA1BC,IAA0B,CAA1BA,IAA0B,oBAAnB,KAAmB,WACpC,GAAMC,CAAAA,MAAM,CAAGV,WAAW,CAAsC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACC,GAAN,CAAUF,MAArB,EAAtC,CAA1B,CACA,GAAMG,CAAAA,aAAa,CAAGb,WAAW,CAA4B,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACC,GAAN,CAAUC,aAArB,EAA5B,CAAjC,CACA,GAAMC,CAAAA,UAAU,CAAGd,WAAW,CAA4B,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACI,IAAN,CAAWD,UAAtB,EAA5B,CAA9B,CACA,GAAME,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CAEAX,SAAS,CAAC,UAAM,CACZ4B,QAAQ,CAACf,gBAAgB,EAAjB,CAAR,CACH,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMgB,CAAAA,aAAa,CAAG9B,WAAW,CAAC,UAAM,CACpC6B,QAAQ,CAACT,QAAQ,EAAT,CAAR,CACH,CAFgC,CAE9B,EAF8B,CAAjC,CAIA,GAAI,CAACM,aAAL,CAAoB,CAChB,mBAAO,YACH,KAAK,CAAE,CAACK,QAAQ,CAAE,OAAX,CAAoBC,GAAG,CAAE,KAAzB,CAAgCC,SAAS,CAAE,QAA3C,CAAqDC,KAAK,CAAE,MAA5D,CADJ,uBAEH,KAAC,gBAAD,IAFG,EAAP,CAIH,CAED,mBACI,KAAC,UAAD,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,KAAC,aAAD,IADJ,cAEI,MAAC,MAAD,EAAQ,QAAQ,CAAC,QAAjB,wBACI,MAAC,OAAD,yBACI,KAAC,UAAD,EAAY,IAAI,CAAC,OAAjB,CAAyB,KAAK,CAAC,SAA/B,CAAyC,aAAW,MAApD,uBACI,KAAC,IAAD,IADJ,EADJ,cAII,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,kBAJJ,CAOKP,UAAU,eAAI,KAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,OAAO,CAAEG,aAAjC,qBAPnB,GADJ,CAUKP,MAAM,GAAK,SAAX,eAAwB,KAAC,cAAD,IAV7B,GAFJ,cAcI,KAAC,SAAD,EAAW,KAAK,KAAhB,uBACI,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,IAAI,CAAE,GAAb,CAAkB,OAAO,cAAE,KAAC,aAAD,EAAe,IAAI,CAAED,IAArB,EAA3B,EADJ,cAEI,KAAC,KAAD,EAAO,IAAI,CAAE,QAAb,CAAuB,OAAO,cAAE,KAAC,KAAD,IAAhC,EAFJ,GADJ,EAdJ,GADJ,EADJ,CAyBH,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["import React, {useCallback, useEffect} from 'react'\r\nimport './App.css'\r\nimport {AppBar, Button, Container, IconButton, LinearProgress, Toolbar, Typography} from '@material-ui/core'\r\nimport {Menu} from '@material-ui/icons'\r\nimport {TodolistsList} from '../features/TodolistsList/TodolistsList'\r\nimport {ErrorSnackbar} from '../components/ErrorSnackbar/ErrorSnackbar'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppRootStateType} from './store'\r\nimport {initializedAppTC, RequestStatusType} from './app-reducer'\r\nimport {BrowserRouter, HashRouter, Route, Routes} from \"react-router-dom\";\r\nimport {Login} from \"../features/Login/Login\";\r\nimport {CircularProgress} from \"@mui/material\";\r\nimport {logoutTC} from \"../features/Login/auth-reducer\";\r\n\r\ntype PropsType = {\r\n    demo?: boolean\r\n}\r\n\r\nfunction App({demo = false}: PropsType) {\r\n    const status = useSelector<AppRootStateType, RequestStatusType>((state) => state.app.status)\r\n    const isInitialized = useSelector<AppRootStateType, boolean>((state) => state.app.isInitialized)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>((state) => state.auth.isLoggedIn)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(initializedAppTC())\r\n    }, [])\r\n\r\n    const logoutHandler = useCallback(() => {\r\n        dispatch(logoutTC())\r\n    }, [])\r\n\r\n    if (!isInitialized) {\r\n        return <div\r\n            style={{position: 'fixed', top: '30%', textAlign: 'center', width: '100%'}}>\r\n            <CircularProgress/>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <HashRouter>\r\n            <div className=\"App\">\r\n                <ErrorSnackbar/>\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\r\n                            <Menu/>\r\n                        </IconButton>\r\n                        <Typography variant=\"h6\">\r\n                            News\r\n                        </Typography>\r\n                        {isLoggedIn && <Button color=\"inherit\" onClick={logoutHandler}>Log out</Button>}\r\n                    </Toolbar>\r\n                    {status === 'loading' && <LinearProgress/>}\r\n                </AppBar>\r\n                <Container fixed>\r\n                    <Routes>\r\n                        <Route path={'/'} element={<TodolistsList demo={demo}/>}/>\r\n                        <Route path={'/Login'} element={<Login/>}/>\r\n                    </Routes>\r\n                </Container>\r\n            </div>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}