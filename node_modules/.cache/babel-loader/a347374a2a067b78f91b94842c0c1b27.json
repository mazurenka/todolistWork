{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\programming\\\\ToDoListDimych\\\\todolist\\\\src\\\\features\\\\TodolistsList\\\\TodolistsList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addTodolistTC, changeTodolistFilterAC, changeTodolistTitleTC, fetchTodolistsTC, removeTodolistTC } from './todolists-reducer';\nimport { addTaskTC, removeTaskTC, updateTaskTC } from './tasks-reducer';\nimport { Grid, Paper } from '@material-ui/core';\nimport { AddItemForm } from '../../components/AddItemForm/AddItemForm';\nimport { Todolist } from './Todolist/Todolist';\nexport const TodolistsList = ({\n  demo = false\n}) => {\n  _s();\n\n  const todolists = useSelector(state => state.todolists);\n  const tasks = useSelector(state => state.tasks);\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n\n  if (!isLoggedIn) {\n    return;\n  }\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (demo) {\n      return;\n    }\n\n    const thunk = fetchTodolistsTC();\n    dispatch(thunk);\n  }, []);\n  const removeTask = useCallback(function (id, todolistId) {\n    const thunk = removeTaskTC(id, todolistId);\n    dispatch(thunk);\n  }, []);\n  const addTask = useCallback(function (title, todolistId) {\n    const thunk = addTaskTC(title, todolistId);\n    dispatch(thunk);\n  }, []);\n  const changeStatus = useCallback(function (id, status, todolistId) {\n    const thunk = updateTaskTC(id, {\n      status\n    }, todolistId);\n    dispatch(thunk);\n  }, []);\n  const changeTaskTitle = useCallback(function (id, newTitle, todolistId) {\n    const thunk = updateTaskTC(id, {\n      title: newTitle\n    }, todolistId);\n    dispatch(thunk);\n  }, []);\n  const changeFilter = useCallback(function (value, todolistId) {\n    const action = changeTodolistFilterAC(todolistId, value);\n    dispatch(action);\n  }, []);\n  const removeTodolist = useCallback(function (id) {\n    const thunk = removeTodolistTC(id);\n    dispatch(thunk);\n  }, []);\n  const changeTodolistTitle = useCallback(function (id, title) {\n    const thunk = changeTodolistTitleTC(id, title);\n    dispatch(thunk);\n  }, []);\n  const addTodolist = useCallback(title => {\n    const thunk = addTodolistTC(title);\n    dispatch(thunk);\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      style: {\n        padding: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(AddItemForm, {\n        addItem: addTodolist\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: todolists.map(tl => {\n        let allTodolistTasks = tasks[tl.id];\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            style: {\n              padding: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Todolist, {\n              todolist: tl,\n              tasks: allTodolistTasks,\n              removeTask: removeTask,\n              changeFilter: changeFilter,\n              addTask: addTask,\n              changeTaskStatus: changeStatus,\n              removeTodolist: removeTodolist,\n              changeTaskTitle: changeTaskTitle,\n              changeTodolistTitle: changeTodolistTitle,\n              demo: demo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, tl.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(TodolistsList, \"MRtvXhrgfU5nnVci0+vjvEtUKHg=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = TodolistsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodolistsList\");","map":{"version":3,"sources":["D:/programming/ToDoListDimych/todolist/src/features/TodolistsList/TodolistsList.tsx"],"names":["React","useCallback","useEffect","useDispatch","useSelector","addTodolistTC","changeTodolistFilterAC","changeTodolistTitleTC","fetchTodolistsTC","removeTodolistTC","addTaskTC","removeTaskTC","updateTaskTC","Grid","Paper","AddItemForm","Todolist","TodolistsList","demo","todolists","state","tasks","isLoggedIn","auth","dispatch","thunk","removeTask","id","todolistId","addTask","title","changeStatus","status","changeTaskTitle","newTitle","changeFilter","value","action","removeTodolist","changeTodolistTitle","addTodolist","padding","map","tl","allTodolistTasks"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppRootStateType} from '../../app/store'\r\nimport {\r\n    addTodolistTC,\r\n    changeTodolistFilterAC,\r\n    changeTodolistTitleTC,\r\n    fetchTodolistsTC,\r\n    FilterValuesType,\r\n    removeTodolistTC,\r\n    TodolistDomainType\r\n} from './todolists-reducer'\r\nimport {addTaskTC, removeTaskTC, TasksStateType, updateTaskTC} from './tasks-reducer'\r\nimport {TaskStatuses} from '../../api/todolists-api'\r\nimport {Grid, Paper} from '@material-ui/core'\r\nimport {AddItemForm} from '../../components/AddItemForm/AddItemForm'\r\nimport {Todolist} from './Todolist/Todolist'\r\n\r\ntype PropsType = {\r\n    demo?: boolean\r\n}\r\n\r\nexport const TodolistsList: React.FC<PropsType> = ({demo = false}) => {\r\n    const todolists = useSelector<AppRootStateType, Array<TodolistDomainType>>(state => state.todolists)\r\n    const tasks = useSelector<AppRootStateType, TasksStateType>(state => state.tasks)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n\r\n    if (!isLoggedIn) {\r\n        return \r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if (demo) {\r\n            return;\r\n        }\r\n        const thunk = fetchTodolistsTC()\r\n        dispatch(thunk)\r\n    }, [])\r\n\r\n    const removeTask = useCallback(function (id: string, todolistId: string) {\r\n        const thunk = removeTaskTC(id, todolistId)\r\n        dispatch(thunk)\r\n    }, [])\r\n\r\n    const addTask = useCallback(function (title: string, todolistId: string) {\r\n        const thunk = addTaskTC(title, todolistId)\r\n        dispatch(thunk)\r\n    }, [])\r\n\r\n    const changeStatus = useCallback(function (id: string, status: TaskStatuses, todolistId: string) {\r\n        const thunk = updateTaskTC(id, {status}, todolistId)\r\n        dispatch(thunk)\r\n    }, [])\r\n\r\n    const changeTaskTitle = useCallback(function (id: string, newTitle: string, todolistId: string) {\r\n        const thunk = updateTaskTC(id, {title: newTitle}, todolistId)\r\n        dispatch(thunk)\r\n    }, [])\r\n\r\n    const changeFilter = useCallback(function (value: FilterValuesType, todolistId: string) {\r\n        const action = changeTodolistFilterAC(todolistId, value)\r\n        dispatch(action)\r\n    }, [])\r\n\r\n    const removeTodolist = useCallback(function (id: string) {\r\n        const thunk = removeTodolistTC(id)\r\n        dispatch(thunk)\r\n    }, [])\r\n\r\n    const changeTodolistTitle = useCallback(function (id: string, title: string) {\r\n        const thunk = changeTodolistTitleTC(id, title)\r\n        dispatch(thunk)\r\n    }, [])\r\n\r\n    const addTodolist = useCallback((title: string) => {\r\n        const thunk = addTodolistTC(title)\r\n        dispatch(thunk)\r\n    }, [dispatch])\r\n\r\n\r\n    return <>\r\n        <Grid container style={{padding: '20px'}}>\r\n            <AddItemForm addItem={addTodolist}/>\r\n        </Grid>\r\n        <Grid container spacing={3}>\r\n            {\r\n                todolists.map(tl => {\r\n                    let allTodolistTasks = tasks[tl.id]\r\n\r\n                    return <Grid item key={tl.id}>\r\n                        <Paper style={{padding: '10px'}}>\r\n                            <Todolist\r\n                                todolist={tl}\r\n                                tasks={allTodolistTasks}\r\n                                removeTask={removeTask}\r\n                                changeFilter={changeFilter}\r\n                                addTask={addTask}\r\n                                changeTaskStatus={changeStatus}\r\n                                removeTodolist={removeTodolist}\r\n                                changeTaskTitle={changeTaskTitle}\r\n                                changeTodolistTitle={changeTodolistTitle}\r\n                                demo={demo}\r\n                            />\r\n                        </Paper>\r\n                    </Grid>\r\n                })\r\n            }\r\n        </Grid>\r\n    </>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}